<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Visualisation | Circle Packing Chart</title>
    <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-circle-packing.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-data-adapter.min.js"></script>

    <style type="text/css">
        html, body, #container {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="container"></div>
<script>
    anychart.onDocumentReady(function () {
        let data = [
            {
                name: "CO2 emissions",
                year: "2019",
                value: 38688785,
                children: [
                    {name: "Flights", value: 1900776},
                    {name: "COVID cases", value: 0}
                ]
            },
            {
                name: "CO2 emissions",
                year: "2020",
                value: 13970171,
                children: [
                    {name: "Flights", value: 761969},
                    {name: "COVID cases", value: 1660178}
                ]
            },
            {
                name: "CO2 emissions",
                year: "2021",
                value: 16412096,
                children: [
                    {name: "Flights", value: 893126},
                    {name: "COVID cases", value: 5353865}
                ]
            },
            {
                name: "CO2 emissions",
                year: "2022",
                value: 26098639,
                children: [
                    {name: "Flights", value: 1386795},
                    {name: "COVID cases", value: 30227893}
                ]
            },
            {
                name: "CO2 emissions",
                year: "2023",
                value: 23002430,
                children: [
                    {name: "Flights", value: 1505243},
                    {name: "COVID cases", value: 1195820}
                ]
            }
        ];

        chart = anychart.circlePacking(data, "as-tree");
        // title of the chart
        chart
            .title()
            .enabled(true)
            .useHtml(true)
            .text(
                '<span style = "color: #151414; font-size:20px;">Flights, COVID and CO2 emissions.</span>' +
                '<br/><span style="color:#151716; font-size: 18px;">Its relationshipts during the COVID pandemic</span>'
            );

        // configure labels
        chart.labels().useHtml(true);
        chart.labels().format(
            "<span style='font-weight:bold; color:#FFFFFF; font-size: 16px'>{%year}</span>"
        );

        // configure colours
        chart.normal().fill("#00838f", 0.3);
        chart.hovered().fill("#dd2c00", 0.1);
        chart.selected().fill("#dd2c00", 0.3);
        chart.normal().stroke("#00838f", 1);
        chart.hovered().stroke("#dd2c00 ", 2);
        chart.selected().stroke("#dd2c00", 4);

        chart.container("container");
        chart.draw();
    });
</script>
</body>
</html>
